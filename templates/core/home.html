{% extends "base.html" %}
{% load static %}
{% block title %}SEA — Home{% endblock %}

{% block content %}

<!-- Hero -->
<section class="hero hero-sea mb-4 rounded-3 overflow-hidden"
         style="background-image: url('{% static "images/estuary-hero.png" %}');">
  <div class="hero-overlay">
    <div class="container py-5">
      <div class="col-lg-10 text-white">
        <h1 class="display-5 fw-bold mb-2">Reconnect with the Shannon Estuary</h1>
        <p class="lead mb-4">Bookings, buddy sessions, and safety info—together in one place.</p>
        <div class="d-flex flex-wrap gap-2">
          <a class="btn btn-brand btn-lg" href="{% url 'activities:list' %}">Explore activities</a>
          <a class="btn btn-outline-light btn-lg" href="#map">View map</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Welcome split -->
<section class="mb-5">
  <div class="row g-4 align-items-center">
    <div class="col-lg-7">
      <h2 class="h3 mb-3">Welcome to Shannon Estuary Activities</h2>
      <p class="mb-3">
        Plan with confidence. Discover guided adventures, find buddies for swims, kayaks, hikes or cycles,
        and check live safety conditions—tailored for the estuary.
      </p>
      <ul class="list-unstyled mb-0">
        <li class="mb-1">• Book activities with local providers</li>
        <li class="mb-1">• Create or join buddy sessions</li>
        <li>• Check weather & tides inside the safety panel</li>
      </ul>
    </div>
    <div class="col-lg-5">
      <img src="{% static 'images/welcome.jpg' %}" alt="Wildflowers along the Shannon Estuary coast"
           class="img-fluid rounded-3 shadow-sm" loading="lazy">
    </div>
  </div>
</section>

<!-- Map + Safety -->
<section class="mb-4" aria-labelledby="map-heading">
  <h2 id="map-heading" class="h4">Map</h2>
  <div id="map" class="mb-3" role="region" aria-label="Activity map"></div>

  <!-- HTMX: load spots on page load (no swap; used by map + swiper JS) -->
  <div id="spot-data"
       hx-get="{% url 'core:spots_geojson' %}"
       hx-trigger="load"
       hx-swap="none"></div>

  <!-- Safety panel target -->
  <div id="safety-panel" class="mt-3" aria-live="polite">
    <span class="htmx-indicator small text-muted">Loading safety…</span>
  </div>
</section>

<!-- Discover Spots (Swiper) -->
<section class="mb-5" aria-labelledby="discover-heading">
  <h2 id="discover-heading" class="h4">Discover spots</h2>

  <div class="swiper sea-swiper">
    <div class="swiper-wrapper" id="spot-swiper-wrapper">
      {# slides injected from JS based on /spots.json #}
    </div>

    <!-- Controls -->
    <div class="swiper-button-prev" aria-label="Previous"></div>
    <div class="swiper-button-next" aria-label="Next"></div>
    <div class="swiper-pagination" aria-label="Slides"></div>
  </div>
</section>

<!-- Home page Swiper logic (location images + "View on map") -->
<script src="{% static 'js/home-swiper.js' %}?v=1"></script>

{% endblock %}
