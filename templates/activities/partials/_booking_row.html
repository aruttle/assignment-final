{# One table row for a booking #}
<tr id="booking-{{ b.id }}">
  <td>
    <div class="fw-semibold">{{ b.activity.title }}</div>
    <div class="small text-muted">{{ b.activity.provider.name }}</div>
  </td>
  <td>{{ b.start_dt|date:"D, M j, H:i" }}</td>
  <td>{{ b.party_size }}</td>
  <td>
    {% if b.status == "confirmed" %}
      <span class="badge text-bg-success">confirmed</span>
    {% elif b.status == "cancelled" %}
      <span class="badge text-bg-secondary">cancelled</span>
    {% else %}
      <span class="badge text-bg-light text-dark">{{ b.get_status_display|default:b.status }}</span>
    {% endif %}
  </td>
  <td class="text-end">
    <a class="btn btn-sm btn-outline-primary" href="{% url 'activities:detail' b.activity_id %}">View</a>

    {% if b.status == "confirmed" %}
      <form class="d-inline"
            method="post"
            onsubmit="return confirm('Cancel and remove this booking?');"
            hx-post="{% url 'activities:booking_cancel' b.id %}"
            hx-target="#booking-{{ b.id }}"
            hx-swap="outerHTML">
        {% csrf_token %}
        <button class="btn btn-sm btn-outline-danger">Cancel</button>
      </form>
    {% endif %}
  </td>
</tr>
